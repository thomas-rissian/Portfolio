---
const { active } = Astro.props;
const navItems = [
  { name: "Accueil", icon: "🏠", link: "/" },
  { name: "A Propos", icon: "👤", link: "/about" },
  { name: "Mes Projets", icon: "💼", link: "/project" },
  { name: "Numérique Responsable", icon: "🌱", link: "/numerique-responsable" },
  { name: "Contact", icon: "✉️", link: "/contact" },
];
function withBase(path: string, base = import.meta.env.BASE_URL): string {
  return `${base.replace(/\/$/, '')}/${path.replace(/^\//, '')}`;
}
---

<nav class="sidebar">
  {navItems.map((item, index) => (
    <a
      href={withBase(item.link)}
      class={`nav-bubble ${active === item.link ? "active" : ""}`}
      aria-label={item.name}
      style={`animation-delay: ${(index + 1) * 0.1}s`}
    >
      <span class="nav-icon">{item.icon}</span>
      <span class="nav-text">{item.name}</span>
    </a>
  ))}
</nav>
